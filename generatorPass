8import random
import string
import os

# Terminal Colors
RED = '\033[91m'
YELLOW = '\033[93m'
GREEN = '\033[92m'
RESET = '\033[0m'

def clear_screen():
    """Clears the terminal screen."""
    os.system('cls' if os.name == 'nt' else 'clear')

def analyze_strength(password):
    """
    Analyzes the password and returns a tuple: (Color, Rating)
    Criteria: Length, Numbers, Symbols, Uppercase.
    """
    score = 0
    
    # Criterion 1: Length
    if len(password) >= 8: score += 1
    if len(password) >= 12: score += 1
    
    # Criterion 2: Variety
    has_number = any(char.isdigit() for char in password)
    has_special = any(char in string.punctuation for char in password)
    has_upper = any(char.isupper() for char in password)
    
    if has_number: score += 1
    if has_special: score += 1
    if has_upper: score += 1

    # Rating based on score (Max 5)
    if score < 3:
        return (RED, "WEAK ðŸ”“")
    elif score < 5:
        return (YELLOW, "MEDIUM ðŸ›¡ï¸")
    else:
        return (GREEN, "STRONG ðŸ”’")

def generate_password(length=12):
    """Generates a random password with letters, numbers, and symbols."""
    
    # Set of all possible characters
    characters = string.ascii_letters + string.digits + string.punctuation
    
    # Randomly chooses characters based on length
    password = ''.join(random.choice(characters) for _ in range(length))
    return password

def main():
    clear_screen()
    print("--- ULTRA PASSWORD GENERATOR ---")
    
    while True:
        try:
            user_input = input(f"\n{RESET}Enter password length (or '0' to exit): ")
            length = int(user_input)
            
            if length == 0:
                print("Exiting...")
                break
            
            if length < 4:
                print(f"{RED}Error: Password must be at least 4 characters long.{RESET}")
                continue

            # Generate the password
            generated_pass = generate_password(length)
            
            # Analyze strength
            color, rating = analyze_strength(generated_pass)
            
            # Display result
            print("-" * 40)
            print(f"Generated Password: {RESET}{generated_pass}")
            print(f"Strength:           {color}{rating}{RESET}")
            print("-" * 40)
            
        except ValueError:
            print(f"{RED}Error: Please enter valid integers only.{RESET}")

if __name__ == "__main__":
    main()
